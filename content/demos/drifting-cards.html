---
title: Hey Lovely
---

<script src="/assets/js/two.js"></script>


<div id="draw-animation"></div>

<script type="text/javascript">
  var elem = document.getElementById('draw-animation');
  var two = new Two({ width: 285, height: 200 }).appendTo(elem);

  //THE ALGORITHM
  //input: card positions, point positions
  //output: card-point combos

  //random point generator
  function genRandomPointPairs(num, padding=0) {
    let pairs = [];
    for(let i=0 ; i < num ; i++) {
      let pair = [[],[]];
      pair[0][0] = padding+Math.floor(Math.random()*(two.width-padding));
      pair[0][1] = padding+Math.floor(Math.random()*(two.height-padding));
      pair[1][0] = padding+Math.floor(Math.random()*(two.width-padding));
      pair[1][1] = padding+Math.floor(Math.random()*(two.height-padding));
      pairs.push(pair);
    }
    return pairs;
  }
  let pointpairs = genRandomPointPairs(3,10);

  let cards = two.makeGroup();
  let points = two.makeGroup();
  let graphpairs = pointpairs.map(pointpair => {
    let card = two.makeRectangle(pointpair[0][0], pointpair[0][1], 50, 50);
    let point = two.makeCircle(pointpair[1][0], pointpair[1][1], 5);
    cards.add(card); points.add(point);
    return two.makeGroup(card, point);
  });
  //working here kinda

  cards.fill = 'rgba(0, 200, 255, 0.75)';
  points.fill = '#FF8000';

  console.log(cards);

  var circle = two.makeCircle(-70, 0, 5);
  var rect = two.makeRectangle(70, 0, 50, 50);
  circle.fill = '#FF8000';
  rect.fill = 'rgba(0, 200, 255, 0.75)';

  var group = two.makeGroup(circle, rect);
  group.translation.set(two.width / 2, two.height / 2);

  let rate = 0.05;
  let resetx = rect.translation.x;
  let resety = rect.translation.y;
  // Bind a function to scale and rotate the group
  // to the animation loop.
  two.bind('update', (frameCount) => {
    // This code is called everytime two.update() is called.
    // Effectively 60 times per second.
    let dx = circle.translation.x-rect.translation.x;
    let dy = circle.translation.y-rect.translation.y;
    //whats the proper increment to reset at?
    if (Math.abs(dx) < 1 && Math.abs(dy) < 0.0001) {
      rect.translation.x = resetx;
      rect.translation.y = resety;
    }
    rect.translation.x += dx*rate;
    rect.translation.y += dy*rate;
  }).play();  // Finally, start the animation loop
</script>
